<!-- TODO: show code snippets with the description-->
<h1>
  Data table component
</h1>

<h3>1. Convention over configuration</h3>
<p>There is only one required input &mdash; rows data attribute. All other attributes have default values. For example, columns configuration is initialized according to row keys and values. All keys are visible by default.</p>
<iw-table [rows]="rows"></iw-table>

<!-- NOTE: language should be set with token -->
<h3>2. Customization with all available inputs and outputs</h3>
<p>
  Default values can be overwritten. Here is a list of all inputs and outputs. In this case, the inline editing is enabled, and language is changed to German.
</p>
<div>
  <p *ngFor="let action of actionList">{{action}}</p>
</div>
<iw-table
  [rows]="rows"
  [columnsConfig]="columnsConfig"
  [visibleColumns]="visibleColumns"
  [reorderingEnabled]="true"
  [inlineEditingEnabled]="true"
  [sortingEnabled]="true"
  [changeColumnVisibility]="true"
  language="de"
  initialSortColumn="firstName"
  (rowClick)="onAction('Row ' + $event  + ' was clicked!')"
  (sortColumn)="onAction('Column ' + $event[0] + ' was sorted in the direction `' + $event[1] + '`!')"
  (addColumn)="onAction('Column ' + $event + ' was added!')"
  (removeColumn)="onAction('Column ' + $event + ' was removed!')"
  (visibleColumnsChange)="onAction('Visible columns changed to: ' + $event)"
  (reorderColumns)="onAction('The order of columns changed to: ' + $event)"
  (editCell)="onAction('The cell in row ' + $event[3] + ' and column ' + $event[2] + ' was edited to value ' + $event[0])"
  >
</iw-table>


<h3>3.A Custom template (customized table footer)</h3>
You can provide a component template inside a iw-table element, where smaller composite directives can be used for not customized parts of the template. We use subcomponents 'iw-theader' and 'iw-tbody' to render table header and body.
<iw-table [rows]="rows" [columnsConfig]="columnsConfig">
  <table class="results-table table table-bordered table-striped">
    <thead iw-thead></thead>
    <tbody iw-tbody></tbody>
    <!-- customized table footer  -->
  </table>
</iw-table>

<h3>3.B Custom template (Customized body cells)</h3>
<p>
  In this example, display of some cells is customized. We are using a public API of table component to get visibleColumns and get column state for specific a field.
</p>
<iw-table
  [columnsConfig]="columnsConfig"
  [rows]="rowsWithStudies"
  [visibleColumns]="['firstName', 'email', 'studies']"
  #tableComponent>
  <table class="results-table table table-bordered table-striped">
    <thead iw-thead></thead>
    <tbody>
      <tr *ngFor="let row of rowsWithStudies; let rowIndex = index">
        <template ngFor let-columnName [ngForOf]="tableComponent.visibleColumns">
          <td
            [class]="isCustomField(columnName)"
            *ngIf="!isCustomField(columnName)"
            iw-td
            [column]="tableComponent.columnsLookup[columnName]"
            [row]="rowsWithStudies[rowIndex]">
          </td>
          <td *ngIf="isCustomField(columnName)">
            <iw-studies-cell
             [row]="row"
             [col]="tableComponent.columnsLookup.studies">
           </iw-studies-cell>
          </td>
        </template>
        <td></td>
      </tr>
    </tbody>
  </table>
</iw-table>
